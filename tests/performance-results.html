
<!DOCTYPE html>
<html>
<head>
  <title>Smart_tutor 性能测试结果</title>
  <meta charset="UTF-8">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
      background-color: #f5f5f5;
    }
    h1, h2 {
      color: #333;
      text-align: center;
    }
    .chart-container {
      width: 800px;
      height: 400px;
      margin: 20px auto;
      background-color: white;
      padding: 15px;
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    .summary {
      max-width: 800px;
      margin: 20px auto;
      background-color: white;
      padding: 15px;
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    table {
      width: 100%;
      border-collapse: collapse;
    }
    th, td {
      padding: 8px;
      text-align: left;
      border-bottom: 1px solid #ddd;
    }
    th {
      background-color: #f2f2f2;
    }
    tr:hover {
      background-color: #f5f5f5;
    }
  </style>
</head>
<body>
  <h1>Smart_tutor 性能测试结果</h1>
  
  <div class="summary">
    <h2>测试摘要</h2>
    <table>
      <tr>
        <th>API端点</th>
        <th>成功率</th>
        <th>平均响应时间</th>
        <th>中位数响应时间</th>
        <th>95%响应时间</th>
      </tr>
      
      <tr>
        <td>/tutorProfiles/tutors</td>
        <td>100.00%</td>
        <td>10.46ms</td>
        <td>8.23ms</td>
        <td>33.46ms</td>
      </tr>
      
      <tr>
        <td>/admin/statistics/users</td>
        <td>100.00%</td>
        <td>11.03ms</td>
        <td>10.15ms</td>
        <td>22.52ms</td>
      </tr>
      
      <tr>
        <td>/admin/statistics/matches</td>
        <td>100.00%</td>
        <td>5.77ms</td>
        <td>5.73ms</td>
        <td>8.58ms</td>
      </tr>
      
      <tr>
        <td>/admin/statistics/tutors</td>
        <td>100.00%</td>
        <td>8.70ms</td>
        <td>8.83ms</td>
        <td>11.89ms</td>
      </tr>
      
    </table>
  </div>
  
  <div class="chart-container">
    <canvas id="responseTimeChart"></canvas>
  </div>
  
  <div class="chart-container">
    <canvas id="successRateChart"></canvas>
  </div>
  
  <script>
    const results = {"/tutorProfiles/tutors":{"avg":10.461216639999996,"min":3.821374999999989,"max":34.19104200000004,"median":8.23025000000007,"p95":33.45916699999998,"successRate":"100.00%","times":[29.620499999999993,30.699290999999903,33.45916699999998,34.19104200000004,33.730999999999995,5.614083000000051,4.749625000000037,6.568667000000005,9.385667000000012,8.745832999999948,10.113249999999994,10.476916999999958,8.873124999999959,8.23025000000007,7.584707999999978,13.108791999999994,15.193083999999999,12.190000000000055,12.939707999999996,15.649208000000044,9.003000000000043,9.327082999999902,8.323291999999924,12.57062499999995,9.230374999999981,8.750500000000102,8.534625000000005,7.743208000000095,7.991624999999999,7.315541999999937,7.389291999999955,11.139499999999998,7.798290999999949,5.649417000000085,7.3543750000000045,7.0365829999999505,10.641332999999918,5.498333000000002,4.482167000000004,5.4783330000000205,6.339958000000024,5.0674999999999955,6.713874999999916,4.033749999999941,6.4193330000000515,5.121917000000053,4.8934169999999995,4.199665999999979,4.068624999999997,3.821374999999989]},"/admin/statistics/users":{"avg":11.030720900000011,"min":3.993167000000085,"max":23.05708400000003,"median":10.151917000000026,"p95":22.519000000000005,"successRate":"100.00%","times":[14.501791000000026,15.007499999999936,15.305624999999964,15.652874999999995,15.452750000000037,6.369250000000079,7.14933300000007,6.553125000000023,9.60733300000004,9.909250000000043,16.21754199999998,16.55283399999996,17.45820900000001,15.401124999999979,17.76708300000007,8.196374999999989,11.875250000000051,13.473959000000036,12.22362499999997,18.739332999999988,20.830959000000007,22.871833000000038,22.519000000000005,23.05708400000003,15.444292000000019,11.458167000000003,6.950832999999989,6.570291999999995,5.811334000000102,4.8331249999999955,6.392959000000019,4.732250000000022,5.6957080000000815,5.672957999999994,4.920292000000018,4.403666000000044,8.715084000000047,10.550375000000031,10.151917000000026,11.393541999999911,14.15041599999995,11.595750000000066,8.872333000000026,8.444833000000017,8.10112499999991,4.971707999999921,3.993167000000085,5.213624999999979,4.864166999999952,4.93908399999998]},"/admin/statistics/matches":{"avg":5.765143399999992,"min":3.064583999999968,"max":9.01558399999999,"median":5.727167000000009,"p95":8.584834,"successRate":"100.00%","times":[5.318625000000111,6.509957999999983,6.722540999999978,6.862666999999988,7.267334000000005,3.1142500000000837,5.09862499999997,4.002958000000035,6.347874999999931,7.909167000000025,6.712875000000054,7.2616669999999885,7.786207999999988,3.9669159999999692,6.25629200000003,4.12987499999997,5.234707999999955,4.371458999999959,5.470416999999998,8.584834,6.084124999999972,7.490832999999952,8.820334000000003,7.2264169999999694,6.957667000000015,8.271124999999984,9.01558399999999,6.400125000000003,8.375750000000039,6.403124999999932,4.09704099999999,3.7850409999999783,5.618041000000062,5.727167000000009,4.988457999999923,5.997624999999971,5.7643339999999625,5.790333000000032,5.434583000000089,4.834459000000038,3.9342080000000124,5.326665999999932,4.5601669999999785,4.2196669999999585,4.12012500000003,3.276416999999924,4.999583999999913,4.019042000000013,4.725291999999968,3.064583999999968]},"/admin/statistics/tutors":{"avg":8.697295899999997,"min":4.0670410000000174,"max":11.986167000000023,"median":8.828750000000014,"p95":11.886542000000077,"successRate":"100.00%","times":[8.235791000000063,8.781542000000059,8.828750000000014,9.155583999999976,9.345416999999998,10.710124999999948,11.986167000000023,11.939292000000023,11.886542000000077,11.840583000000038,7.049709000000007,7.386542000000077,9.746624999999995,9.614624999999933,9.398042000000032,9.621290999999928,9.683374999999955,8.866541999999981,8.709917000000019,11.144249999999943,8.593208000000004,8.575166999999965,9.582832999999937,9.328750000000014,8.812582999999904,11.590958,11.627541999999949,10.346584000000007,11.214124999999967,11.405208000000016,6.708292000000029,5.757207999999991,7.03166699999997,6.5867920000000595,8.006582999999978,8.517917000000011,9.397833999999989,8.669958000000065,8.26887499999998,9.535832999999911,6.73904200000004,6.860249999999951,7.358083000000079,8.87941699999999,5.928209000000038,4.0670410000000174,6.241250000000036,5.517791999999986,5.372957999999926,4.412124999999946]}};
    
    // 响应时间对比图
    const responseTimeCtx = document.getElementById('responseTimeChart').getContext('2d');
    new Chart(responseTimeCtx, {
      type: 'bar',
      data: {
        labels: Object.keys(results),
        datasets: [
          {
            label: '平均响应时间 (ms)',
            data: Object.values(results).map(r => r.avg || 0),
            backgroundColor: 'rgba(54, 162, 235, 0.5)',
          },
          {
            label: '95%响应时间 (ms)',
            data: Object.values(results).map(r => r.p95 || 0),
            backgroundColor: 'rgba(255, 99, 132, 0.5)',
          }
        ]
      },
      options: {
        plugins: {
          title: {
            display: true,
            text: 'API端点响应时间对比'
          }
        }
      }
    });
    
    // 成功率图表
    const successRateCtx = document.getElementById('successRateChart').getContext('2d');
    new Chart(successRateCtx, {
      type: 'bar',
      data: {
        labels: Object.keys(results),
        datasets: [{
          label: '请求成功率',
          data: Object.values(results).map(r => {
            if (r.successRate) {
              return parseFloat(r.successRate);
            }
            return 0;
          }),
          backgroundColor: 'rgba(75, 192, 192, 0.5)',
        }]
      },
      options: {
        plugins: {
          title: {
            display: true,
            text: 'API端点请求成功率'
          }
        },
        scales: {
          y: {
            beginAtZero: true,
            max: 100
          }
        }
      }
    });
  </script>
</body>
</html>
  